<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Домашняя бухгалтерия</title>
	<style>
		.button {
			display: inline-block;
			border: 1px solid rgb(0, 0, 0);
			color: rgb(0, 0, 0);
			padding: 0 12px;
			margin: 5px;
			text-decoration: none;
			background: #f2f2f2;
			font-size: 12pt;
			cursor: pointer;
		}

		.button:hover {
			background: #e6e6ff;
		}

		.pushedButton {
			display: inline-block;
			border: 1px solid rgb(0, 0, 0);
			color: rgb(0, 0, 0);
			padding: 0 12px;
			margin: 10px;
			text-decoration: none;
			background: rgb(130, 130, 130);
			font-size: 12pt;
			cursor: pointer;
		}

		.category {
			display: inline-block;
			border: 1px solid rgb(0, 0, 0);
			color: rgb(0, 0, 0);
			padding: 0 12px;
			margin-left: 50px;
			margin-top: 5px;
			text-decoration: none;
			background: rgb(176, 241, 255);
			font-size: 12pt;
			cursor: pointer;
		}
	</style>
</head>
<!-- TODO -->
<body>
	<a th:href="@{/operations/}+${type}" class="button">Показать все операции</a>
	<a th:href="@{/menu}" class="button">Меню</a>
	<hr>
	<form th:method="GET" th:action="@{/}" th:object="${filter}">
		<input type="submit" hidden><br>
		<div>
			Счет:<select th:onchange="window.location = this.value" th:object="${filter.filter}" id="account">
				<option selected disabled th:text="${disabledAccount}"></option>
				<option th:value="@{/}+${type}+'?startDate='+*{startDate}+'&endDate='
			+*{endDate}">Итого</option>
				<option th:each="cashAccount : ${cashAccounts}" th:value="@{/}+${type}+'?startDate='+*{startDate}+
			'&endDate='+*{endDate}+'&account='+${cashAccount.name}"
					th:text="${cashAccount.name}" />
			</select>
		</div>
		<h2 th:text="'Баланс: '+${generalBalance}">General Balance</h2>
		<div>
			<a th:href="@{/operations/}+${type}+'/new'" class="button">+</a>
		</div>
		<hr>
		<label for="startDate">Начало:</label>
		<input type="date" th:field="*{dateRange.startDate}" id="startDate">
		<label for="endDate">Конец:</label>
		<input type="date" th:field="*{dateRange.endDate}" id="endDate">
		<br>
	</form>
	<div th:if="${type.equals('income')}" th:object="${viewModel}">
		<a th:href="@{/outcome?}+*{linkParameters}" class="button">Расходы</a>
		<label class="pushedButton">Доходы</label>
	</div>
	<div th:if="${type.equals('outcome')}" th:object="${viewModel}">
		<label class="pushedButton">Расходы</label>
		<a th:href="@{/income?}+*{linkParameters}" class="button">Доходы</a>
	</div>
	<p th:each="category : ${predentedCategories.keySet()}">
		<a th:href="@{/operations?}+${viewModel.linkParameters}+'&type='+*{viewModel.type}+'&categoryID='+${categoryID}"
			class="category" th:text="${viewModel.predentedCategories.get(categoryID)}"></a>
	</p>

</body>


</html>